<%- include("../includes/head.ejs") %>
<%- include("../includes/navigation.ejs") %>
<main>
    <div class="grid">
      <% blogs.forEach((blog) => { %>
        <article class="card product-item">
          <div class="card__image">
            <img src="<%= blog.imageUrl %>" alt="<%= blog.title %>">
          </div>
            <small><%= blog.reading_time %> minute read</small>
            <header class="card__header">
                <h1 class="blog__title"><%= blog.title %></h1>
            </header>
          <div class="card__content">
            <h4 class="blog__description"><%= blog.description %></h4>
            <p class="blog__body"><%= blog.blogBody.slice(0, 100) %>...</p>
          </div>
          <div class="card__actions">
            <a href="/blogs/<%= blog._id %>" class="btn">Details</a>
          </div>
        </article>
            <section class="pagination">
                <% if (currentPage != 1) { %>
                <a href="blogs/?page=1">1</a>
                <% } %>
                <a href="blogs/?page=<%= currentPage %>"><%= currentPage %></a>
                    <% if (hasNextPage) { %>
                    <a href="blogs/?page=<%= nextPage %>"><%= nextPage %></a>
                <% } %>
                    <% if (lastPage != currentPage && nextPage != lastPage) { %>
                    <a href="blogs/?page=<%= lastPage %>"><%= lastPage %></a>
                    <% } %>
            </section>
    </div>

    <% }) %>
</main>
<%- include("../includes/end.ejs") %>
